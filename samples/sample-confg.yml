Version: 2

Blueprints:
  
  DDB:

    Template: https://s3.amazonaws.com/cloudformation-templates-us-east-1/DynamoDB_Table.template
    StackPolicy: DENY_ALL

    EnableTerminationProtection: false
    
    Tags:
      Project:  Booba
      CostUnit: 1B0
    Parameters:
      ReadCapacityUnits:      5
      WriteCapacityUnits:     5
      HashKeyElementName:     id

Stages:

  Develop:
    Order: 1
    DDBTable1:
      Extends: DDB
      StackName: DynamoDbTable1
      Region: us-west-2
      Tags:
        Environment: staging
      Parameters:
        ReadCapacityUnits:      5
      Order: 0

    DDBTable2:
      Extends: DDB
      StackName: DynamoDbTable1
      Region: us-east-1
      Order: 1


  Stage:
    Order: 0
    DDBTable1:
      Extends: DDB
      StackName: DynamoDbTable1
      Region: us-west-1
      Tags:
        Environment: staging
      Parameters:
        ReadCapacityUnits:      5
      Order: 1

    DDBTable2:
      Extends: DDB
      StackName: DynamoDbTable1
      Region: ap-northeast-1
      Order: 0